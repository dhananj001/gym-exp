import{j as e,K as A,u as F,r as h,L as D}from"./app-R3b3lIBT.js";import{A as M,U as S}from"./app-layout-D6cesGfA.js";import{D as R,L as p,f as _,g as L,B as u,C as O,a as P,b as H,P as I,c as U,A as W,h as K,p as X,d as $,e as q}from"./badge-D-LYULxB.js";import{C as N,a as C,b as v,c as f,d as G,e as J,T as Q,f as V,g as m,h as n,i as Y,j as i}from"./table-CpTLm_LO.js";import{S as b,A as j,c as Z,a as y,b as k,C as ee}from"./alert-CU61IXFH.js";import"./app-logo-icon-CR24MD59.js";import"./index-HeRRhIYx.js";const o=({title:c,value:s,icon:t,colorClass:l})=>e.jsxs(N,{className:"bg-white dark:bg-zinc-900 border-gray-100 dark:border-zinc-800 shadow-sm hover:shadow-lg transition-shadow duration-200 rounded-lg",children:[e.jsxs(C,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(v,{className:"text-sm font-medium text-gray-500 dark:text-zinc-300",children:c}),e.jsx("div",{className:l,children:t})]}),e.jsx(f,{children:e.jsx("div",{className:"text-2xl font-semibold text-gray-700 dark:text-zinc-200",children:s})})]}),x=({title:c,isLoading:s,children:t})=>e.jsxs(N,{className:"bg-white dark:bg-zinc-900 border-gray-100 dark:border-zinc-800 shadow-sm rounded-lg",children:[e.jsx(C,{children:e.jsx(v,{className:"text-gray-700 dark:text-zinc-200 text-lg font-semibold",children:c})}),e.jsx(f,{children:s?e.jsx(b,{className:"h-[300px] w-full rounded-md"}):e.jsx("div",{className:"h-[300px]",children:t})})]});O.register(P,H,I,U,W,K,X,$,q);const se=[{title:"Dashboard",href:"/dashboard"}];function ce(){const{props:c}=A(),{analytics:s,flash:t}=c,{theme:l}=F(),[d,w]=h.useState(!0);h.useEffect(()=>{const a=setTimeout(()=>w(!1),500);return()=>clearTimeout(a)},[]);const r={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top",labels:{color:l==="dark"?"#E4E4E7":"#4B5563",font:{size:14}}},title:{display:!0,color:l==="dark"?"#E4E4E7":"#4B5563",font:{size:16,weight:"600"},padding:{top:10,bottom:20}},tooltip:{enabled:!0}},scales:{x:{ticks:{color:l==="dark"?"#E4E4E7":"#4B5563"},grid:{color:l==="dark"?"rgba(228,228,231,0.1)":"#F3F4F6"}},y:{ticks:{color:l==="dark"?"#E4E4E7":"#4B5563"},grid:{color:l==="dark"?"rgba(228,228,231,0.1)":"#F3F4F6"}}}},E={labels:Object.keys(s.monthlyTrend),datasets:[{label:"New Members",data:Object.values(s.monthlyTrend),borderColor:"#60A5FA",backgroundColor:"rgba(96, 165, 250, 0.2)",fill:!0,tension:.3,pointRadius:4,pointHoverRadius:6}]},z={labels:Object.keys(s.revenueTrend),datasets:[{label:"Revenue (₹)",data:Object.values(s.revenueTrend),borderColor:"#34D399",backgroundColor:"rgba(52, 211, 153, 0.2)",fill:!0,tension:.3,pointRadius:4,pointHoverRadius:6}]},T={labels:Object.keys(s.membershipTypes),datasets:[{label:"Membership Types",data:Object.values(s.membershipTypes),backgroundColor:["#93C5FD","#6EE7B7","#FBBF24","#FCA5A5","#C4B5FD"],borderColor:["#93C5FD","#6EE7B7","#FBBF24","#FCA5A5","#C4B5FD"],borderWidth:1}]},B={labels:Object.keys(s.paymentStatuses),datasets:[{label:"Members",data:Object.values(s.paymentStatuses),backgroundColor:["#6EE7B7","#FBBF24","#FCA5A5"],borderColor:["#6EE7B7","#FBBF24","#FCA5A5"],borderWidth:1}]};return e.jsxs(M,{breadcrumbs:se,children:[e.jsx(D,{title:"Dashboard"}),e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[(t==null?void 0:t.success)&&e.jsxs(j,{className:"bg-green-50 dark:bg-green-950 border-green-200 dark:border-green-800 animate-in fade-in",children:[e.jsx(Z,{className:"h-4 w-4 text-green-600 dark:text-green-400"}),e.jsx(y,{children:"Success"}),e.jsx(k,{className:"text-green-700 dark:text-green-300",children:t.success})]}),(t==null?void 0:t.error)&&e.jsxs(j,{className:"bg-red-50 dark:bg-red-950 border-red-200 dark:border-red-800 animate-in fade-in",children:[e.jsx(ee,{className:"h-4 w-4 text-red-600 dark:text-red-400"}),e.jsx(y,{children:"Error"}),e.jsx(k,{className:"text-red-700 dark:text-red-300",children:t.error})]}),d?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((a,g)=>e.jsx(b,{className:"h-32 w-full rounded-lg"},g))}):e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(o,{title:"Total Members",value:s.totalMembers,icon:e.jsx(S,{className:"h-5 w-5"}),colorClass:"text-blue-400 dark:text-blue-300"}),e.jsx(o,{title:"Active Members",value:s.activeMembers,icon:e.jsx(G,{className:"h-5 w-5"}),colorClass:"text-green-400 dark:text-green-300"}),e.jsx(o,{title:"Expired Members",value:s.expiredMembers,icon:e.jsx(J,{className:"h-5 w-5"}),colorClass:"text-red-400 dark:text-red-300"}),e.jsx(o,{title:"Total Revenue",value:`₹${s.totalRevenue}`,icon:e.jsx(R,{className:"h-5 w-5"}),colorClass:"text-yellow-400 dark:text-yellow-300"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(x,{title:"Monthly New Members Trend",isLoading:d,children:e.jsx(p,{data:E,options:{...r,plugins:{...r.plugins,title:{...r.plugins.title,text:"New Members"}}}})}),e.jsx(x,{title:"Monthly Revenue Trend",isLoading:d,children:e.jsx(p,{data:z,options:{...r,plugins:{...r.plugins,title:{...r.plugins.title,text:"Revenue (₹)"}}}})}),e.jsx(x,{title:"Membership Type Distribution",isLoading:d,children:e.jsx(_,{data:T,options:{...r,plugins:{...r.plugins,title:{...r.plugins.title,text:"Membership Types"}}}})}),e.jsx(x,{title:"Payment Status Distribution",isLoading:d,children:e.jsx(L,{data:B,options:{...r,plugins:{...r.plugins,title:{...r.plugins.title,text:"Payment Status"}}}})})]}),e.jsxs("div",{className:"bg-zinc-50 dark:bg-zinc-900 rounded-lg shadow-sm border border-gray-100 dark:border-zinc-800 overflow-hidden",children:[e.jsx("div",{className:"p-4 flex justify-between items-center",children:e.jsx("h2",{className:"text-lg font-semibold text-gray-700 dark:text-zinc-200",children:"Recent Members"})}),d?e.jsx("div",{className:"p-4 space-y-2",children:[...Array(3)].map((a,g)=>e.jsx(b,{className:"h-12 w-full rounded-md"},g))}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(Q,{children:[e.jsx(V,{children:e.jsxs(m,{className:"bg-gray-100 dark:bg-zinc-800",children:[e.jsx(n,{className:"text-gray-600 dark:text-zinc-300",children:"ID"}),e.jsx(n,{className:"text-gray-600 dark:text-zinc-300",children:"Name"}),e.jsx(n,{className:"text-gray-600 dark:text-zinc-300",children:"Membership"}),e.jsx(n,{className:"text-gray-600 dark:text-zinc-300",children:"Start Date"}),e.jsx(n,{className:"text-gray-600 dark:text-zinc-300",children:"Expiry Date"}),e.jsx(n,{className:"text-gray-600 dark:text-zinc-300",children:"Status"})]})}),e.jsx(Y,{children:s.recentMembers.length===0?e.jsx(m,{children:e.jsx(i,{colSpan:6,className:"text-center text-gray-500 dark:text-zinc-400",children:"No recent members found."})}):s.recentMembers.map(a=>e.jsxs(m,{className:"hover:bg-gray-50 dark:hover:bg-zinc-800 transition-colors",children:[e.jsx(i,{className:"text-gray-700 dark:text-zinc-200",children:a.id}),e.jsx(i,{className:"text-gray-700 dark:text-zinc-200",children:a.name}),e.jsx(i,{children:e.jsx(u,{variant:"outline",className:"border-gray-200 dark:border-zinc-700 text-gray-600 dark:text-zinc-300",children:a.membership_type})}),e.jsx(i,{className:"text-gray-700 dark:text-zinc-200",children:a.start_date}),e.jsx(i,{className:"text-gray-700 dark:text-zinc-200",children:a.expiry_date}),e.jsx(i,{children:e.jsx(u,{variant:"default",className:a.payment_status==="Paid"?"bg-green-100 text-green-700 dark:bg-green-950 dark:text-green-300":a.payment_status==="Partial"?"bg-yellow-100 text-yellow-700 dark:bg-yellow-950 dark:text-yellow-300":"bg-red-100 text-red-700 dark:bg-red-950 dark:text-red-300",children:a.payment_status})})]},a.id))})]})})]})]})]})}export{ce as default};
